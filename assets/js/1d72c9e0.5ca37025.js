"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[83778],{3905:(e,t,a)=>{a.d(t,{Zo:()=>h,kt:()=>m});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=n.createContext({}),u=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},h=function(e){var t=u(e.components);return n.createElement(i.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,h=l(e,["components","mdxType","originalType","parentName"]),c=u(a),d=r,m=c["".concat(i,".").concat(d)]||c[d]||p[d]||o;return a?n.createElement(m,s(s({ref:t},h),{},{components:a})):n.createElement(m,s({ref:t},h))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,s=new Array(o);s[0]=d;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[c]="string"==typeof e?e:r,s[1]=l;for(var u=2;u<o;u++)s[u]=a[u];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},32181:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var n=a(87462),r=(a(67294),a(3905));const o={hide_table_of_contents:!0,publish_date:new Date("2014-01-14T00:00:00.000Z"),last_update:{date:new Date("2023-03-15T00:00:00.000Z")},level:2,language:"ruby"},s=void 0,l={unversionedId:"css-vs-xpath-2/ruby",id:"css-vs-xpath-2/ruby",title:"ruby",description:"A Solution",source:"@site/docs/33-css-vs-xpath-2/ruby.md",sourceDirName:"33-css-vs-xpath-2",slug:"/css-vs-xpath-2/ruby",permalink:"/docs/css-vs-xpath-2/ruby",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/33-css-vs-xpath-2/ruby.md",tags:[],version:"current",lastUpdatedBy:"Diego Molina",lastUpdatedAt:1678838400,formattedLastUpdatedAt:"Mar 15, 2023",frontMatter:{hide_table_of_contents:!0,publish_date:"2014-01-14T00:00:00.000Z",last_update:{date:"2023-03-15T00:00:00.000Z"},level:2,language:"ruby"}},i={},u=[{value:"A Solution",id:"a-solution",level:2},{value:"Example",id:"example",level:2},{value:"The Results",id:"the-results",level:2},{value:"What The Results Tell Us",id:"what-the-results-tell-us",level:2},{value:"Summary",id:"summary",level:2},{value:"About The Author",id:"about-the-author",level:2}],h={toc:u},c="wrapper";function p(e){let{components:t,...o}=e;return(0,r.kt)(c,(0,n.Z)({},h,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"a-solution"},"A Solution"),(0,r.kt)("p",null,"To get a real taste of what the performance difference is between CSS and XPath, we will need to dig deeper. We'll do\nthat by running everything from a local machine while using a performance benchmarking utility. We'll also want to\nfocus on a specific Selenium action rather than the entire test run, and run things numerous times."),(0,r.kt)("h2",{id:"example"},"Example"),(0,r.kt)("p",null,"For this example, I set up a local Windows XP virtual machine. This was quick work thanks to the images made available\nby Microsoft. You can grab one ",(0,r.kt)("a",{parentName:"p",href:"https://developer.microsoft.com/en-us/windows/downloads/virtual-machines/"},"here"),"."),(0,r.kt)("p",null,"After ",(0,r.kt)("a",{parentName:"p",href:"http://rubyinstaller.org/downloads/"},"installing Ruby")," I installed all available browsers and their equivalent\nbrowser drivers for Selenium use. You can learn more about how to set up different browsers to run locally in\nSelenium ",(0,r.kt)("a",{parentName:"p",href:"https://elementalselenium.com/docs/chrome-driver/29-chrome-driver"},"here"),"."),(0,r.kt)("p",null,"For benchmarking, I used the library that's available in Ruby's standard lib called 'benchmark'. You can learn more\nabout it ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ruby/benchmark"},"here"),"."),(0,r.kt)("p",null,"In order to get an adequate sample set of data, I ran the same test against each browser 100 times. And to weed out\nanomalies in the data I used the rehearsal feature of benchmark so that it would run the full test sequence, perform\ngarbage collection, and then run it again."),(0,r.kt)("p",null,"To make things comparable, a few of the locators were updated to make for better matches in comparison to each other.\nAnd the specific action we measured is ",(0,r.kt)("inlineCode",{parentName:"p"},"find_element"),". You can see the locators and test code used\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/diemol/selenium-benchmark/blob/master/lib/page-objects/small_dom.rb"},"here"),"."),(0,r.kt)("p",null,"Here are the results."),(0,r.kt)("h2",{id:"the-results"},"The Results"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"NOTE: The output is in seconds, and the results are for the total run time of 100 executions.")),(0,r.kt)("p",null,"[",(0,r.kt)("img",{alt:"local browser benchmarks",src:a(65413).Z,width:"891",height:"221"})),(0,r.kt)("h2",{id:"what-the-results-tell-us"},"What The Results Tell Us"),(0,r.kt)("p",null,"On a whole, Internet Explorer is slower than the other drivers, but between CSS and XPath it looks like XPath is\nactually ",(0,r.kt)("strong",{parentName:"p"},"faster")," than CSS. Chrome and Opera have some differences, albeit much smaller, but they sway in both\ndirections. In some cases CSS is faster, and in others, XPath. And Firefox looks to be a bit more optimized for\nCSS since it's mostly faster across the board."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"NOTE: Opera 12.16 was used since that is the last supported version within the Selenium project. That's because\nthey switched to using Chromium and dropped Selenium support. That and Mozilla hired Opera's only WebDriver\ndeveloper -- so, there's that.")),(0,r.kt)("h2",{id:"summary"},"Summary"),(0,r.kt)("p",null,"Even with these speed differences they are only a few seconds (or fractions of seconds) apart -- and that's for\n100 executions. When you think about how it takes 30 seconds or more to complete a test run, this kind of\ndifference is negligible."),(0,r.kt)("p",null,"As I noted in ",(0,r.kt)("a",{parentName:"p",href:"https://elementalselenium.com/docs/css-vs-xpath/32-css-vs-xpath"},"my previous tip"),", the choice between\nCSS and XPath can be a tough one to make. But now you are armed with more than enough data to make the choice for\nyourself. It's really just a matter of finding what works for you and your team and to not get weighed down by the\nhype and opinions around which one is better."),(0,r.kt)("p",null,"Happy Testing!"),(0,r.kt)("h2",{id:"about-the-author"},"About The Author"),(0,r.kt)("p",null,"I'd like to give a huge shout-out to ",(0,r.kt)("a",{parentName:"p",href:"https://twitter.com/AutomatedTester"},"David Burns")," and ",(0,r.kt)("a",{parentName:"p",href:"https://twitter.com/bbbco"},"Brian Goad"),"! They helped make this tip possible\nby each helping in their own way. David for his feedback and guidance on ",(0,r.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=qQgDDAan4rM"},"how to do effective performance testing"),".\nAnd Brian for his feedback, recommendations, and ",(0,r.kt)("a",{parentName:"p",href:"https://twitter.com/bbbco/status/421707164919418880"},"code contributions"),".\nThank you!"))}p.isMDXComponent=!0},65413:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/local-browser-benchmarks-7342c10e003ea9c1d2b4cf6df2e25edd.png"}}]);