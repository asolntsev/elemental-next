<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-css-vs-xpath-2/ruby">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">ruby | Elemental Selenium</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://elementalselenium.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://elementalselenium.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://elementalselenium.com/tips/css-vs-xpath-2/ruby"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ruby | Elemental Selenium"><meta data-rh="true" name="description" content="A Solution"><meta data-rh="true" property="og:description" content="A Solution"><link data-rh="true" rel="icon" href="/img/ES.ico"><link data-rh="true" rel="canonical" href="https://elementalselenium.com/tips/css-vs-xpath-2/ruby"><link data-rh="true" rel="alternate" href="https://elementalselenium.com/tips/css-vs-xpath-2/ruby" hreflang="en"><link data-rh="true" rel="alternate" href="https://elementalselenium.com/tips/css-vs-xpath-2/ruby" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://7W1XUFVKCS-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Elemental Selenium RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Elemental Selenium Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Elemental Selenium" href="/opensearch.xml">
<meta name="google-site-verification" content="googlee2afebcc27f8c950.html"><link rel="stylesheet" href="/assets/css/styles.dc07ba5b.css">
<link rel="preload" href="/assets/js/runtime~main.bf65ea0c.js" as="script">
<link rel="preload" href="/assets/js/main.50217373.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Elemental Selenium Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Elemental Selenium Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/tips">Tips</a><a class="navbar__item navbar__link" href="/resources">External Resources</a><a class="navbar__item navbar__link" href="/community">Get Involved</a><a class="navbar__item navbar__link nav-button" href="/signup">Join the mailing list</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col"><div class="docItemContainer_Djhp"><article><div class="theme-doc-markdown markdown"><header><h1>ruby</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="a-solution">A Solution<a href="#a-solution" class="hash-link" aria-label="Direct link to A Solution" title="Direct link to A Solution">​</a></h2><p>To get a real taste of what the performance difference is between CSS and XPath, we will need to dig deeper. We&#x27;ll do
that by running everything from a local machine while using a performance benchmarking utility. We&#x27;ll also want to
focus on a specific Selenium action rather than the entire test run, and run things numerous times.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h2><p>For this example, I set up a local Windows XP virtual machine. This was quick work thanks to the images made available
by Microsoft. You can grab one <a href="https://developer.microsoft.com/en-us/windows/downloads/virtual-machines/" target="_blank" rel="noopener noreferrer">here</a>.</p><p>After <a href="http://rubyinstaller.org/downloads/" target="_blank" rel="noopener noreferrer">installing Ruby</a> I installed all available browsers and their equivalent
browser drivers for Selenium use. You can learn more about how to set up different browsers to run locally in
Selenium <a href="https://elementalselenium.com/docs/chrome-driver/29-chrome-driver" target="_blank" rel="noopener noreferrer">here</a>.</p><p>For benchmarking, I used the library that&#x27;s available in Ruby&#x27;s standard lib called &#x27;benchmark&#x27;. You can learn more
about it <a href="https://github.com/ruby/benchmark" target="_blank" rel="noopener noreferrer">here</a>.</p><p>In order to get an adequate sample set of data, I ran the same test against each browser 100 times. And to weed out
anomalies in the data I used the rehearsal feature of benchmark so that it would run the full test sequence, perform
garbage collection, and then run it again.</p><p>To make things comparable, a few of the locators were updated to make for better matches in comparison to each other.
And the specific action we measured is <code>find_element</code>. You can see the locators and test code used
<a href="https://github.com/diemol/selenium-benchmark/blob/master/lib/page-objects/small_dom.rb" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Here are the results.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-results">The Results<a href="#the-results" class="hash-link" aria-label="Direct link to The Results" title="Direct link to The Results">​</a></h2><p><strong>NOTE: The output is in seconds, and the results are for the total run time of 100 executions.</strong></p><p>[<img loading="lazy" alt="local browser benchmarks" src="/assets/images/local-browser-benchmarks-7342c10e003ea9c1d2b4cf6df2e25edd.png" width="891" height="221" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-the-results-tell-us">What The Results Tell Us<a href="#what-the-results-tell-us" class="hash-link" aria-label="Direct link to What The Results Tell Us" title="Direct link to What The Results Tell Us">​</a></h2><p>On a whole, Internet Explorer is slower than the other drivers, but between CSS and XPath it looks like XPath is
actually <strong>faster</strong> than CSS. Chrome and Opera have some differences, albeit much smaller, but they sway in both
directions. In some cases CSS is faster, and in others, XPath. And Firefox looks to be a bit more optimized for
CSS since it&#x27;s mostly faster across the board.</p><p><strong>NOTE: Opera 12.16 was used since that is the last supported version within the Selenium project. That&#x27;s because
they switched to using Chromium and dropped Selenium support. That and Mozilla hired Opera&#x27;s only WebDriver
developer -- so, there&#x27;s that.</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2><p>Even with these speed differences they are only a few seconds (or fractions of seconds) apart -- and that&#x27;s for
100 executions. When you think about how it takes 30 seconds or more to complete a test run, this kind of
difference is negligible.</p><p>As I noted in <a href="https://elementalselenium.com/docs/css-vs-xpath/32-css-vs-xpath" target="_blank" rel="noopener noreferrer">my previous tip</a>, the choice between
CSS and XPath can be a tough one to make. But now you are armed with more than enough data to make the choice for
yourself. It&#x27;s really just a matter of finding what works for you and your team and to not get weighed down by the
hype and opinions around which one is better.</p><p>Happy Testing!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="about-the-author">About The Author<a href="#about-the-author" class="hash-link" aria-label="Direct link to About The Author" title="Direct link to About The Author">​</a></h2><p>I&#x27;d like to give a huge shout-out to <a href="https://twitter.com/AutomatedTester" target="_blank" rel="noopener noreferrer">David Burns</a> and <a href="https://twitter.com/bbbco" target="_blank" rel="noopener noreferrer">Brian Goad</a>! They helped make this tip possible
by each helping in their own way. David for his feedback and guidance on <a href="https://www.youtube.com/watch?v=qQgDDAan4rM" target="_blank" rel="noopener noreferrer">how to do effective performance testing</a>.
And Brian for his feedback, recommendations, and <a href="https://twitter.com/bbbco/status/421707164919418880" target="_blank" rel="noopener noreferrer">code contributions</a>.
Thank you!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/tips/33-css-vs-xpath-2/ruby.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-03-15T00:00:00.000Z">Mar 15, 2023</time></b> by <b>Diego Molina</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Tips Archive:</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Beginner tips</a></li><li class="footer__item"><a class="footer__link-item" href="/">Fundamentals</a></li><li class="footer__item"><a class="footer__link-item" href="/">Troubleshooting</a></li></ul></div><div class="col footer__col"><div class="footer__title">Get Involved:</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/saucelabs/elemental-next" target="_blank" rel="noopener noreferrer" class="footer__link-item">Elemental Selenium on Github</a></li><li class="footer__item"><a href="https://saucelabs.com/resources/community/slack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Elemental Selenium Team on Slack</a></li></ul></div><div class="col footer__col"><div class="footer__title">External Resources:</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.selenium.dev/documentation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Selenium Docs</a></li><li class="footer__item"><a href="https://www.selenium.dev/support/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Selenium Community</a></li><li class="footer__item"><a href="https://saucelabs.com/resources/topic-hub/open-source-fellowship" target="_blank" rel="noopener noreferrer" class="footer__link-item">The Team Behind</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 Sauce Labs Inc., all rights reserved</div></div></div></footer></div>
<script src="/assets/js/runtime~main.bf65ea0c.js"></script>
<script src="/assets/js/main.50217373.js"></script>
</body>
</html>