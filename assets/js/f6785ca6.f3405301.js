"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[31030],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),s=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,p=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=s(n),m=o,h=u["".concat(p,".").concat(m)]||u[m]||c[m]||i;return n?r.createElement(h,a(a({ref:t},d),{},{components:n})):r.createElement(h,a({ref:t},d))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[u]="string"==typeof e?e:o,a[1]=l;for(var s=2;s<i;s++)a[s]=n[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},23267:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var r=n(87462),o=(n(67294),n(3905));const i={language:"ruby",level:1,hide_sidebar:!0,publish_date:new Date("2015-07-06T00:00:00.000Z"),last_update:{date:new Date("2023-02-22T00:00:00.000Z")}},a=void 0,l={unversionedId:"select-from-a-dropdown/ruby",id:"select-from-a-dropdown/ruby",title:"ruby",description:"Example 1",source:"@site/docs/5-select-from-a-dropdown/ruby.md",sourceDirName:"5-select-from-a-dropdown",slug:"/select-from-a-dropdown/ruby",permalink:"/docs/select-from-a-dropdown/ruby",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/5-select-from-a-dropdown/ruby.md",tags:[],version:"current",lastUpdatedBy:"Esther",lastUpdatedAt:1677024e3,formattedLastUpdatedAt:"Feb 22, 2023",frontMatter:{language:"ruby",level:1,hide_sidebar:!0,publish_date:"2015-07-06T00:00:00.000Z",last_update:{date:"2023-02-22T00:00:00.000Z"}}},p={},s=[{value:"Example 1",id:"example-1",level:2},{value:"Example 2",id:"example-2",level:2},{value:"Expected Behavior",id:"expected-behavior",level:2},{value:"Summary",id:"summary",level:2},{value:"About The Author",id:"about-the-author",level:2}],d={toc:s},u="wrapper";function c(e){let{components:t,...i}=e;return(0,o.kt)(u,(0,r.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"example-1"},"Example 1"),(0,o.kt)("p",null,"First let's pull in our requisite libraries and write some simple ",(0,o.kt)("inlineCode",{parentName:"p"},"setup"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"teardown"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},"run")," methods."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ruby"},"# filename: dropdown.rb\n\nrequire 'selenium-webdriver'\nrequire 'rspec/expectations'\ninclude RSpec::Matchers\n\ndef setup\n  @driver = Selenium::WebDriver.for :firefox\nend\n\ndef teardown\n  @driver.quit\nend\n\ndef run\n  setup\n  yield\n  teardown\nend\n")),(0,o.kt)("p",null,"Now let's write up our test."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ruby"},"# filename: dropdown.rb\n...\nrun do\n  @driver.get 'http://the-internet.herokuapp.com/dropdown'\n\n  dropdown_list = @driver.find_element(id: 'dropdown')\n  options = dropdown_list.find_elements(tag_name: 'option')\n  options.each { |option| option.click if option.text == 'Option 1' }\n\n  selected_option = options.map { |option| option.text if option.selected? }.join\n  expect(selected_option).to eql 'Option 1'\nend\n")),(0,o.kt)("p",null,"After visiting ",(0,o.kt)("a",{parentName:"p",href:"http://the-internet.herokuapp.com/dropdown"},"the example application")," we find the dropdown list by its ID and store it in a variable. We then find each clickable element in the dropdown list (e.g., each ",(0,o.kt)("inlineCode",{parentName:"p"},"option"),") with ",(0,o.kt)("inlineCode",{parentName:"p"},"find_elements"),"."),(0,o.kt)("p",null,"Grabbing all of the options returns a collection that we iterate over and when the text matches what we want it will click on it."),(0,o.kt)("p",null,"We finish the test by performing a check to see that our selection was made correctly. This is done by reiterating over the dropdown options collection one more time. This time we're getting the text of the item that was selected, storing it in a variable, and making an assertion against it."),(0,o.kt)("p",null,"While this works, there is a more accessible way to do this."),(0,o.kt)("h2",{id:"example-2"},"Example 2"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ruby"},"# filename: dropdown.rb\n...\nrun do\n  @driver.get 'http://the-internet.herokuapp.com/dropdown'\n\n  dropdown = @driver.find_element(id: 'dropdown')\n  select_list = Selenium::WebDriver::Support::Select.new(dropdown)\n  select_list.select_by(:text, 'Option 1')\n\n  selected_option = select_list.selected_options[0].text\n  expect(selected_option).to eql 'Option 1'\nend\n")),(0,o.kt)("p",null,"Similar to the first example, we are finding the dropdown list by its ID. Instead of iterating over its option elements and clicking based on a conditional check, we are leveraging a built-in helper function of Selenium, ",(0,o.kt)("a",{parentName:"p",href:"https://seleniumhq.github.io/selenium/docs/api/rb/Selenium/WebDriver/Support/Select.html"},(0,o.kt)("inlineCode",{parentName:"a"},"Select")),", and it's ",(0,o.kt)("a",{parentName:"p",href:"https://seleniumhq.github.io/selenium/docs/api/rb/Selenium/WebDriver/Support/Select.html#select_by-instance_method"},(0,o.kt)("inlineCode",{parentName:"a"},"select_by"))," method to choose the item we want."),(0,o.kt)("p",null,"We then ask the ",(0,o.kt)("inlineCode",{parentName:"p"},"select_list")," what option was selected by using the ",(0,o.kt)("a",{parentName:"p",href:"https://seleniumhq.github.io/selenium/docs/api/rb/Selenium/WebDriver/Support/Select.html#selected_options-instance_method"},(0,o.kt)("inlineCode",{parentName:"a"},"selected_options"))," method. This returns an array of Selenium Elements (which in this case is an array of just one element). So we need to reference the first element by it's index (e.g., ",(0,o.kt)("inlineCode",{parentName:"p"},"[0]"),"), ask for it's text, and store it in a variable (e.g., ",(0,o.kt)("inlineCode",{parentName:"p"},"selected_option"),")."),(0,o.kt)("p",null,"Then we perform our assertion against this variable (just like in the previous example)."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"NOTE: In addition to selecting by text, you can also select by value using the code below.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ruby"},"  select_list.select_by(:value, '1')\n")),(0,o.kt)("h2",{id:"expected-behavior"},"Expected Behavior"),(0,o.kt)("p",null,"If you save this file with either of these examples and run it (e.g., ",(0,o.kt)("inlineCode",{parentName:"p"},"ruby dropdown.rb")," from the command-line) here is what will happen:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Open the browser"),(0,o.kt)("li",{parentName:"ul"},"Visit the example application"),(0,o.kt)("li",{parentName:"ul"},"Find the dropdown list"),(0,o.kt)("li",{parentName:"ul"},"Select the requested item from the dropdown list"),(0,o.kt)("li",{parentName:"ul"},"Assert that the selected option is the one you expect"),(0,o.kt)("li",{parentName:"ul"},"Close the browser")),(0,o.kt)("h2",{id:"summary"},"Summary"),(0,o.kt)("p",null,"In this tip, we've gone over using Selenium to select from a drop down using the drop down list, or a built-in helper function of Selenium to find an element within the dropdown list."),(0,o.kt)("p",null,"Hopefully this will help you when selecting items from a dropdown list."),(0,o.kt)("p",null,"Happy Testing!"),(0,o.kt)("h2",{id:"about-the-author"},"About The Author"),(0,o.kt)("p",null,"Dave Haeffner is the original writer of Elemental Selenium -- a free, once weekly Selenium tip newsletter that's read by thousands of testing professionals. He also created and maintains the-internet (an open-source web app that's perfect for writing automated tests against)."),(0,o.kt)("p",null,"Dave has helped numerous companies successfully implement automated acceptance testing; including The Motley Fool, ManTech International, Sittercity, and Animoto. He is also an active member of the Selenium project and has spoken at numerous conferences and meetups around the world about automated acceptance testing."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Dave Haeffner profile picture",src:n(89417).Z+"#author-img",title:"a title",width:"280",height:"280"})))}c.isMDXComponent=!0},89417:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/dave-haeffner-4b48111a5789c5e16142754eb2f51920.jpeg"}}]);