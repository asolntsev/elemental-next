"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[33912],{33912:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>l,default:()=>s,frontMatter:()=>i,toc:()=>o});var a=n(87462),r=(n(67294),n(3905));const i={},l=void 0,o=[{value:"Example 1",id:"example-1",level:2},{value:"Example 2",id:"example-2",level:2},{value:"Expected Behavior",id:"expected-behavior",level:2},{value:"Summary",id:"summary",level:2}],p={toc:o},m="wrapper";function s(e){let{components:t,...n}=e;return(0,r.kt)(m,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"example-1"},"Example 1"),(0,r.kt)("p",null,"We'll first need to pull in our requisite libraries, declare our test class, and wire up some setup and teardown methods for our tests."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"# filename: frames.py\n\nimport unittest\nfrom selenium import webdriver\nfrom selenium.webdriver.common.by import By\n\nclass Frames(unittest.TestCase):\n\n    def setUp(self):\n        self.driver = webdriver.Firefox()\n\n    def tearDown(self):\n        self.driver.quit()\n\n# ...\n")),(0,r.kt)("p",null,"Now onto our test. In it we'll step through ",(0,r.kt)("a",{parentName:"p",href:"http://the-internet.herokuapp.com/nested_frames"},"an example of nested frames")," which can be found on ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/tourdedave/the-internet"},"the-internet"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"# filename: frames.py\n# ...\n    def test_example_1(self):\n        driver = self.driver\n        driver.get('http://the-internet.herokuapp.com/nested_frames')\n        driver.switch_to.frame('frame-top')\n        driver.switch_to.frame('frame-middle')\n        assert driver.find_element(By.ID,'content').text == \"MIDDLE\", \"content should be MIDDLE\"\n\n# ...\n")),(0,r.kt)("p",null,"With Selenium's ",(0,r.kt)("inlineCode",{parentName:"p"},".switch_to.frame")," method we can easily switch to the frame we want. It accepts either an ID or name attribute. But in order to get the text of the middle frame (e.g., a frame nested within another frame), we need to switch to the parent frame (e.g., the top frame) ",(0,r.kt)("em",{parentName:"p"},"and then")," switch to the child frame (e.g., the middle frame)."),(0,r.kt)("p",null,"Once we've done that we're able to find the element we need, grab its text, and assert that it's what we expect."),(0,r.kt)("p",null,"While this example helps illustrate the point of frame switching, it's not very practical."),(0,r.kt)("h2",{id:"example-2"},"Example 2"),(0,r.kt)("p",null,"Here is a more likely example you'll run into -- working with a WYSIWYG Editor like ",(0,r.kt)("a",{parentName:"p",href:"http://www.tinymce.com/"},"TinyMCE"),". You can see the page we're testing ",(0,r.kt)("a",{parentName:"p",href:"http://the-internet.herokuapp.com/tinymce"},"here"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"# filename: frames.py\n# ...\n    def test_example_2(self):\n        driver = self.driver\n        driver.get('http://the-internet.herokuapp.com/tinymce')\n        driver.switch_to.frame('mce_0_ifr')\n        editor = driver.find_element(By.ID,'tinymce')\n        before_text = editor.text\n        editor.clear()\n        editor.send_keys('Hello World!')\n        after_text = editor.text\n        assert after_text != before_text, \"%s equals %s\" % (before_text, after_text)\n\n\nif __name__ == \"__main__\":\n    unittest.main()\n  assert driver.find_element(By.CSS_SELECTOR, 'h3').text != \"\", \"element should not be empty\"\n")),(0,r.kt)("h2",{id:"expected-behavior"},"Expected Behavior"),(0,r.kt)("p",null,"If we save the file and run it (e.g., ",(0,r.kt)("inlineCode",{parentName:"p"},"python frames.py")," from the command-line) here is what will happen:"),(0,r.kt)("u",null,"Example 1"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Open the browser"),(0,r.kt)("li",{parentName:"ul"},"Visit the page"),(0,r.kt)("li",{parentName:"ul"},"Switch to the nested frame"),(0,r.kt)("li",{parentName:"ul"},"Grab the text from the frame and assert that Selenium is in the correct place"),(0,r.kt)("li",{parentName:"ul"},"Close the browser")),(0,r.kt)("u",null,"Example 2"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Open the browser"),(0,r.kt)("li",{parentName:"ul"},"Visit the page"),(0,r.kt)("li",{parentName:"ul"},"Switch to the frame that contains the TinyMCE editor"),(0,r.kt)("li",{parentName:"ul"},"Grab and clear the text in the editor"),(0,r.kt)("li",{parentName:"ul"},"Input and grab new text in the edtitor"),(0,r.kt)("li",{parentName:"ul"},"Assert that the original and new text entries don't match"),(0,r.kt)("li",{parentName:"ul"},"Switch to the top level of the page"),(0,r.kt)("li",{parentName:"ul"},"Grab the text from the top of the page and assert that it's not empty"),(0,r.kt)("li",{parentName:"ul"},"Close the browser")),(0,r.kt)("h2",{id:"summary"},"Summary"),(0,r.kt)("p",null,"Now you're ready to handily defeat frames when they cross your path."),(0,r.kt)("p",null,"Thanks to ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/trabulmonkee"},"Mike Millgate")," for contributing the Python code for this tip, and to ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/Dude-X"},"Isaul Vargas")," & ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/bittner"},"Peter Bittner")," for code reviewing!"),(0,r.kt)("p",null,"Happy Testing!"))}s.isMDXComponent=!0}}]);